<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Texture Mapping and Finger Tracking with ML5 Handpose #  Texture Mapping #  I. Introducción #  El mapeo de texturas es el método con el cual se realiza el detallado de color a un objeto 3D. Actualmente, se han desarrollado mapeos más complejos implicando diferentes tipos de transformaciones y polígonos como el mapeo de reflexión, relieve, entre otros.
El proceso consiste en la obtención de una imagen mediante fotografía digital o escaneo y su manipulación mediante software para ser utilizada."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Workshop2"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://feliperojas2601.github.io/VisualComputing-Showcase/workshops/workshop2/"><title>Workshop2 | Showcase Template</title><link rel=manifest href=/VisualComputing-Showcase/manifest.json><link rel=icon href=/VisualComputing-Showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/VisualComputing-Showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/VisualComputing-Showcase/flexsearch.min.js></script>
<script defer src=/VisualComputing-Showcase/en.search.min.e078da94cd9b6353249ae4b432c88059d18446141f797d91ae2d033f05ab9966.js integrity="sha256-4HjalM2bY1MkmuS0MsiAWdGERhQfeX2Rri0DPwWrmWY=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://feliperojas2601.github.io/VisualComputing-Showcase/workshops/workshop2/index.xml title="Showcase Template"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/VisualComputing-Showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/VisualComputing-Showcase/members/>Members</a></li><li><a href=/VisualComputing-Showcase/workshops/>Workshops</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/VisualComputing-Showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Workshop2</strong>
<label for=toc-control><img src=/VisualComputing-Showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#texture-mapping-and-finger-tracking-with-ml5-handpose><strong>Texture Mapping and Finger Tracking with ML5 Handpose</strong></a><ul><li><a href=#texture-mapping><strong>Texture Mapping</strong></a></li><li><a href=#i-introducción><strong>I. Introducción</strong></a></li><li><a href=#ii-contextualización><strong>II. Contextualización</strong></a><ul><li><a href=#mapeo-de-alto-nivel><strong>Mapeo de Alto Nivel</strong></a></li><li><a href=#mapeo-de-medio-nivel><strong>Mapeo de Medio Nivel</strong></a></li><li><a href=#mapeo-de-bajo-nivel><strong>Mapeo de Bajo Nivel</strong></a></li></ul></li><li><a href=#iii-resultados><strong>III. Resultados</strong></a></li><li><a href=#iv-conclusiones><strong>IV. Conclusiones</strong></a></li><li><a href=#finger-tracking-with-ml5-handpose><strong>Finger Tracking with ML5 Handpose</strong></a></li><li><a href=#i-introducción-1><strong>I. Introducción</strong></a></li><li><a href=#ii-contextualización-1><strong>II. Contextualización</strong></a></li><li><a href=#v-referencias><strong>V. Referencias</strong></a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=texture-mapping-and-finger-tracking-with-ml5-handpose><strong>Texture Mapping and Finger Tracking with ML5 Handpose</strong>
<a class=anchor href=#texture-mapping-and-finger-tracking-with-ml5-handpose>#</a></h1><div style=text-align:justify><h2 id=texture-mapping><strong>Texture Mapping</strong>
<a class=anchor href=#texture-mapping>#</a></h2><h2 id=i-introducción><strong>I. Introducción</strong>
<a class=anchor href=#i-introducci%c3%b3n>#</a></h2><p>El mapeo de texturas es el método con el cual se realiza el detallado de color a un objeto 3D. Actualmente, se han desarrollado mapeos más complejos implicando diferentes tipos de transformaciones y polígonos como el mapeo de reflexión, relieve, entre otros.<br>El proceso consiste en la obtención de una imagen mediante fotografía digital o escaneo y su manipulación mediante software para ser utilizada. Posteriormente, la aplicación es el mapeo de vértices del polígono a una coordenada de textura.
El mapeado UV consiste en el mapeado de un plano 2D a un tríangulo, ubicando los tres vertices del tríangulo en la imagen, con coordenadas normalizadas en la imagen y calculando los puntos interiores utilizando coordenadas báricentricas, se presentará su correspondiente implementación bajo nivel junto con mapeos de medio y alto nivel en JavaScript utilizando la biblioteca de p5.js y WEBGL.</p><h2 id=ii-contextualización><strong>II. Contextualización</strong>
<a class=anchor href=#ii-contextualizaci%c3%b3n>#</a></h2><h3 id=mapeo-de-alto-nivel><strong>Mapeo de Alto Nivel</strong>
<a class=anchor href=#mapeo-de-alto-nivel>#</a></h3><p>El primer mapeo de textura consiste en una esfera (sólido de revolución y no polígono) y una imagen de la tierra [figura 1] a alto nivel mediante el uso de las funciones <code>texture()</code> y <code>sphere()</code>.</p><div align=center><p><img src=https://lh6.googleusercontent.com/IwEkyWS6TCXKxJWlsIaylCZT53k3i6nhXs2xo6Fduap28MgLZMyypiK9KHvJDi7APkDkzh5-80y3i1PdPL_XeCn72HspV9z_jTThXpG3VCee0NUoJ_RBezRKSBWXn6YtgbBKPhL23x1ruQImzQ alt=Tierra></p><p><em>Figura 1. Plano 2D de la tierra. Tomado de : <a href=http://planetpixelemporium.com/planets.html>Planet Texture Maps</a></em></p></div><h3 id=mapeo-de-medio-nivel><strong>Mapeo de Medio Nivel</strong>
<a class=anchor href=#mapeo-de-medio-nivel>#</a></h3><p>El segundo mapeo de textura consiste en una esfera (sólido de revolución y no polígono) y una imagen de la tierra [figura 1] a medio nivel mediante el uso de las funciones <code>texture()</code>, <code>beginShape()</code> y <code>endShape()</code>.</p><p>Para realizar la esfera, utilizamos los conceptos de mapeo entre longitud/latitud en un plano 2D a la esfera utilizando ángulos.<br>Los valores de longitud y latitud estarán:</p><ul><li>$Long \in [0^o, 360^o].$</li><li>$Lat \in [0^o, 180^o].$</li></ul><p>Buscamos mapear los valores de $(r,lat,long) \arrow (x,y,z)$.</p><ul><li>$x = r sin(lat) cos(long)$</li><li>$y = r sin(lat) sin(long)$</li><li>$z = r cos(lat)$</li></ul><details><summary>p5-instance-div markdown</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>globe</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noFill</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lat</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>total</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lon</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>j</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>total</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>TWO_PI</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lat</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>lon</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lat</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lon</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>lat</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVector</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>51</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>angleX</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>angleY</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>beginShape</span>(<span style=color:#a6e22e>TRIANGLE_STRIP</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.005</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.006</span>;
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></details><br><div align=center><iframe id=sphere style=width:520px;height:530px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
  const globe = [];
  const r = 200;
  const total = 25;
  let angleX = 0;
  let angleY = 0;

  function setup() {
    createCanvas(500, 500, WEBGL);
    noFill();
    strokeWeight(2);
    stroke(200);

    for (let i = 0; i < total + 1; i++) {
      globe[i] = [];
      const lat = map(i, 0, total, 0, PI);
      for (let j = 0; j < total + 1; j++) {
        const lon = map(j, 0, total, 0, TWO_PI);
        const x = r * sin(lat) * cos(lon);
        const y = r * sin(lat) * sin(lon);
        const z = r * cos(lat);
        globe[i][j] = createVector(x, y, z);
      }
    }
  }

  function draw() {
    background(51);
    rotateX(angleX);
    rotateY(angleY);

    for (let i = 0; i < total; i++) {
      beginShape(TRIANGLE_STRIP);
      for (let j = 0; j < total + 1; j++) {
        const v1 = globe[i][j];
        vertex(v1.x, v1.y, v1.z);
        const v2 = globe[i + 1][j];
        vertex(v2.x, v2.y, v2.z);
      }
      endShape();
    }

    angleX += 0.005;
    angleY += 0.006;
  }

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p><em>Figura 2. Esfera construida a bajo nivel.</em></p></div><p>Por último, es necesario establecer el modo de textura normalizado y dividir nuestros valores de longitud (coordenada x) y latitud (coordenada y) entre el número total de vértices para darles un valor entre 0 y 1.</p><h3 id=mapeo-de-bajo-nivel><strong>Mapeo de Bajo Nivel</strong>
<a class=anchor href=#mapeo-de-bajo-nivel>#</a></h3><p>El tercer mapeo de textura consiste en un plano 2D y una imagen de la tierra [figura 1] a bajo nivel mediante el uso de las funciones <code>beginShape()</code> y <code>endShape()</code> y la librería de cuadrícula <code>p5.quadrille.js</code>.</p><h2 id=iii-resultados><strong>III. Resultados</strong>
<a class=anchor href=#iii-resultados>#</a></h2><p>La implementación utilizando p5.js realizada para los casos anteriores se muestra a continuación:</p><details><summary>p5-instance-div markdown</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>earth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;https://lh6.googleusercontent.com/MKWuIXLwcIXgwmrKrnjgCFEjna_8kFePKfWJlhOQLpBZ3pagPVPjxyHxZPHs2CTGMm1sdKLx_WGkjVhnDF_L9EQbata6o2Cw0dtIvNYz-yQG_YJXNfpWff_HbdsNtqkWAia6jwG7aLWDbJbn6w&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>51</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>angleX</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>angleY</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>earth</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.005</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.006</span>;
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></details><br><div align=center><iframe id=sphereSun style=width:520px;height:530px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
  let angleX = 0;
  let angleY = 0;

  function preload() {
      earth = loadImage('https://lh6.googleusercontent.com/MKWuIXLwcIXgwmrKrnjgCFEjna_8kFePKfWJlhOQLpBZ3pagPVPjxyHxZPHs2CTGMm1sdKLx_WGkjVhnDF_L9EQbata6o2Cw0dtIvNYz-yQG_YJXNfpWff_HbdsNtqkWAia6jwG7aLWDbJbn6w');
  }

  function setup() {
      createCanvas(500, 500, WEBGL);
  }

  function draw() {
      background(51);
      rotateX(angleX);
      rotateY(angleY);

      textureMode(NORMAL);
      texture(earth);

      sphere(200);

      angleX += 0.005;
      angleY += 0.006;
  }  

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p><em>Figura 3. Esfera mapeada con la imagen de la tierra a alto nivel.</em></p></div><br><details><summary>p5-instance-div markdown</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>globe</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>200</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>earth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;https://lh6.googleusercontent.com/IwEkyWS6TCXKxJWlsIaylCZT53k3i6nhXs2xo6Fduap28MgLZMyypiK9KHvJDi7APkDkzh5-80y3i1PdPL_XeCn72HspV9z_jTThXpG3VCee0NUoJ_RBezRKSBWXn6YtgbBKPhL23x1ruQImzQ&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noFill</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lat</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>i</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>total</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lon</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>j</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>total</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>TWO_PI</span>);
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lat</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>lon</span>);
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lat</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>lon</span>);
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>z</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>lat</span>);
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVector</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>51</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>angleX</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>angleY</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>earth</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>scale</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>beginShape</span>(<span style=color:#a6e22e>TRIANGLE_STRIP</span>);
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>total</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>, <span style=color:#a6e22e>i</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>);
</span></span><span style=display:flex><span>              <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>v2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>globe</span>[<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>j</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>, (<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>total</span>);
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>angleX</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.005</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>angleY</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.006</span>;
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></details><br><div align=center><iframe id=sphereEarth style=width:520px;height:530px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script>
              
  const globe = [];
  const r = 200;
  const total = 50;
  let angleX = 0;
  let angleY = 0;

  function preload() {
      earth = loadImage('https://lh6.googleusercontent.com/IwEkyWS6TCXKxJWlsIaylCZT53k3i6nhXs2xo6Fduap28MgLZMyypiK9KHvJDi7APkDkzh5-80y3i1PdPL_XeCn72HspV9z_jTThXpG3VCee0NUoJ_RBezRKSBWXn6YtgbBKPhL23x1ruQImzQ');
  }

  function setup() {
      createCanvas(500, 500, WEBGL);
      noFill();
      strokeWeight(2);
      stroke(200);

      for (let i = 0; i < total + 1; i++) {
          globe[i] = [];
          const lat = map(i, 0, total, 0, PI);
          for (let j = 0; j < total + 1; j++) {
              const lon = map(j, 0, total, 0, TWO_PI);
              const x = r * sin(lat) * cos(lon);
              const y = r * sin(lat) * sin(lon);
              const z = r * cos(lat);
              globe[i][j] = createVector(x, y, z);
          }
      }
  }

  function draw() {
      background(51);
      rotateX(angleX);
      rotateY(angleY);

      textureMode(NORMAL);
      texture(earth);
      scale(-1,1);

      for (let i = 0; i < total; i++) {
          beginShape(TRIANGLE_STRIP);
          for (let j = 0; j < total + 1; j++) {
              const v1 = globe[i][j];
              vertex(v1.x, v1.y, v1.z, j / total, i / total);
              const v2 = globe[i + 1][j];
              vertex(v2.x, v2.y, v2.z, j / total, (i + 1) / total);
          }
          endShape();
      }

      angleX += 0.005;
      angleY += 0.006;
  }

            </script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p><em>Figura 4. Esfera mapeada con la imagen de la tierra a medio nivel.</em></p></div><br><h2 id=iv-conclusiones><strong>IV. Conclusiones</strong>
<a class=anchor href=#iv-conclusiones>#</a></h2><p>Para concluir, podemos resaltar en nuestras investigaciones que el campo de mapeo de texturas ha sido apropiado para investigaciones y desarrollos más complejos, para entender este proceso es necesario entender las bases y el bajo nivel de los gráficos, ádemas de conceptos matemáticos claves como sistemas de coordenadas, geoetría y otros involucrados en rasterización. Como trabajo futuro se puede proponer el mapeo de texturas de medio y bajo nivel a súper geometrías y el desarrollo de estas a nivel matemático debido al alto nivel de complejidad de estas figuras. Esta investigación se ha realizado de manera transversal por los distintos niveles de mapeo, afianzando los conocimientos y conceptos, convirtiéndose así en una buena ejemplificación práctica del mapeo de texturas.</p><h2 id=finger-tracking-with-ml5-handpose><strong>Finger Tracking with ML5 Handpose</strong>
<a class=anchor href=#finger-tracking-with-ml5-handpose>#</a></h2><h2 id=i-introducción-1><strong>I. Introducción</strong>
<a class=anchor href=#i-introducci%c3%b3n-1>#</a></h2><p><a href=https://ml5js.org/>Ml5.js</a> es una librería de Javascript que tiene como objetivo fomentar el uso del Machine Learning de manera más amigable y para un público más amplio, es un proyecto de código abierto originario de Nueva York por el grupo Interactive Telecommunications/Interactive Media Art quienes manteniendo el API a día de hoy. Esta librería se basa en TensorFlow.js, otra librería de Google para el desarrollo de Machine Learning, redes neuronales y que cuenta con un alto prestigio en este sector. Ml5.js está fuertemente ligada al Processing y a p5.js, trabaja con procesos optimizados en la GPU y cuenta con distintos modelos previamente entrenados para la detección de imágenes, generación de texto, relaciones de palabras, composición musical, entre otros, que son capaces de ejecutarse mediante p5.js.<br>En esta investigación se abarcará uno de los modelos en el campo del Finger Tracking denominado <code>Handpose</code>, este se encuentra relacionado a gráficos, imagen y vídeo. También, se presentarán detalles del estado del arte e historia del campo del Finger Tracking, su funcionamiento, recolección de datos, cómo funciona a nivel teórico y cómo utilizar <code>Handpose</code> y una aplicación de este modelo utilizando p5.js.</p><h2 id=ii-contextualización-1><strong>II. Contextualización</strong>
<a class=anchor href=#ii-contextualizaci%c3%b3n-1>#</a></h2><p>El finger tracking [Figura 5] es uno de los campos correspondientes al sector de interacción humano - máquina en 3 dimensiones, se empezó a estudiar en 1969 con los primeros reconocimientos de gestos en el procesamiento de imágenes. En este sector, una de las claves y el primer paso a seguir es la captura de datos del usuario, en el Finger Tracking como tal es posible capturar los datos utilizando o no una interfaz o hardware como lo son los guantes de captura, utilizar seguimientos de posición y reconstrucción espacial vía mandos, entre otros, estos métodos son conocidos como seguimientos de captura inercial y sus grandes desventajas son la interferencia magnética en los procesos y la dependencia del funcionamiento adecuado de los sensores.<br>El otro sistema es el basado en captura de la observación o movimiento óptico, este sistema utiliza marcadores que son puntos de interacción configurados previamente en los modelos con el fin de dar seguimiento a puntos estratégicos y la realización de cálculos espaciales necesarios en situaciones de óptica con condiciones adversas como el desenfoque, esto con el fin de mantener una congruencia espacial en la posición de los marcadores sin importar que se tengan algunas posiciones erradas o desconocidas. Támbien se utilizan patrones 3D entrenados previamente en los modelos para representar computacionalmente las coordenadas (incluyendo la profundidad) de los marcadores.</p><div align=center><p><img src=https://docs.microsoft.com/es-es/windows/mixed-reality/develop/unreal/images/hand-tracking-img-02.png alt="Finger Tracking"></p><p><em>Figura 5. Finger tracking y sus seguimientos. Tomado de : <a href="https://docs.microsoft.com/es-es/windows/mixed-reality/develop/unreal/unreal-hand-tracking?tabs=426">Microsoft</a></em></p></div><p>Para el modelo utilizado en <code>Handpose</code> de M5l.js, se utiliza un seguimiento sin interfaz. Estos seguimientos están construidos con base en estimaciones de secuencias y un modelo de cambio con grados de libertad en las articulaciones conectadas como un cuerpo rígido. Se establece un espacio o grafo de estados con atributos de posición y ángulos para cada dedo funcional, esto con el fin de realizar una estimación. Los procesos comunes en este seguimiento son:</p><ul><li>Substracción del fondo en la imagen.</li><li>Convolución de la imagen a una máscara de binarios para segmentar la mano del fondo.</li><li>Reconocimiento de regiones mediante la mano izquierda y derecha.</li><li>Identificación de picos y valles de la mano, yemas de los dedos y transformación de estos datos a coordenadas 3D.</li><li>Estimación de posición mediante el uso del modelo y el grafo de estados.</li><li>Opcional: Reconocimiento de gestos.</li></ul><p>El modelo de estimación funciona de tal forma blablabla &mldr;</p><h2 id=v-referencias><strong>V. Referencias</strong>
<a class=anchor href=#v-referencias>#</a></h2><ul><li>Wikipedia contributors. (2022, 22 abril). Texture mapping. Wikipedia. <a href=https://en.wikipedia.org/wiki/Texture_mapping>https://en.wikipedia.org/wiki/Texture_mapping</a>. <a href=https://en.wikipedia.org/wiki/Texture_mapping>Wikipedia</a></li><li>Wikipedia contributors. (2022b, mayo 16). Spherical coordinate system. Wikipedia. <a href=https://en.wikipedia.org/wiki/Spherical_coordinate_system>https://en.wikipedia.org/wiki/Spherical_coordinate_system</a> <a href=https://en.wikipedia.org/wiki/Spherical_coordinate_system>Wikipedia</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/3a1b432f3e5a790b645788947ca86000ffa45b7d title="Last modified by FelipeRojas | May 22, 2022" target=_blank rel=noopener><img src=/VisualComputing-Showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 22, 2022</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#texture-mapping-and-finger-tracking-with-ml5-handpose><strong>Texture Mapping and Finger Tracking with ML5 Handpose</strong></a><ul><li><a href=#texture-mapping><strong>Texture Mapping</strong></a></li><li><a href=#i-introducción><strong>I. Introducción</strong></a></li><li><a href=#ii-contextualización><strong>II. Contextualización</strong></a><ul><li><a href=#mapeo-de-alto-nivel><strong>Mapeo de Alto Nivel</strong></a></li><li><a href=#mapeo-de-medio-nivel><strong>Mapeo de Medio Nivel</strong></a></li><li><a href=#mapeo-de-bajo-nivel><strong>Mapeo de Bajo Nivel</strong></a></li></ul></li><li><a href=#iii-resultados><strong>III. Resultados</strong></a></li><li><a href=#iv-conclusiones><strong>IV. Conclusiones</strong></a></li><li><a href=#finger-tracking-with-ml5-handpose><strong>Finger Tracking with ML5 Handpose</strong></a></li><li><a href=#i-introducción-1><strong>I. Introducción</strong></a></li><li><a href=#ii-contextualización-1><strong>II. Contextualización</strong></a></li><li><a href=#v-referencias><strong>V. Referencias</strong></a></li></ul></li></ul></nav></div></aside></main></body></html>